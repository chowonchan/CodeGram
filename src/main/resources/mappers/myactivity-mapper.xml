<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.kh.cgram.myactivity.mapper.MyActivityMapper">

	<select id="selectLikedPosts" resultType="BoardImg">
		SELECT BI.BOARD_NO, BI.IMG_NO, BI.IMG_PATH
		FROM BOARD B
		JOIN BOARD_LIKE BL ON B.BOARD_NO = BL.BOARD_NO
		JOIN BOARD_IMG BI ON B.BOARD_NO = BI.BOARD_NO
		WHERE BL.MEMBER_NO = #{memberNo}
	</select>
	
	<delete id="deleteLikes">
		DELETE FROM BOARD_LIKE
		WHERE BOARD_NO IN
        <foreach item="postId" collection="postIds" open="(" separator="," close=")">
            #{postId}
        </foreach>
        AND MEMBER_NO = #{memberNo}
	</delete>
	
</mapper>